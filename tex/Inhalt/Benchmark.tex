\chapter{Benchmark von Graphdatenbanksystemen}
\label{cha:benchmark}

\section{Ausführungsumgebung}

- Skalenfreiheit
- Skalierungsfaktor Produktanzahl

\subsection{Datengrundlage}

- reale Daten
	- Amazon Meta-Daten
	- Pokec Social Network
- Skalierungsfaktor ist Produktanzahl
	- Algorithmus zur Extraktion der Teilgraphen im Anhang
	- topologische Eingenschaften bleiben nicht zwingend erhalten

\begin{figure}[h] 
	\centering
		\includegraphics[scale=.75]{schema.pdf}
	\caption[Benchmark: Schema Testdaten]{Schema}
	\label{fig:test}
\end{figure}

\subsection{Anfragen}

- stellvertretend für analytische Anfragen

\renewcommand{\arraystretch}{1.25}
\begin{table}[h]
	\centering
	\begin{footnotesize}
   	\begin{tabular}{|m{3cm}|>{\arraybackslash}m{12.5cm}|}
	\hline
   	\textbf{Name} & \textbf{Beschreibung} \\
	\hline
	\textbf{\texttt{import}*} & Importieren der Datenbasis in das GDBMS unter Verwendung von Bulk-Load-Mechanismen. \\
		  
	\textbf{\texttt{random\_read}*} & Selektion zufällig ausgewählter Produkte und Nutzer sowie Auslesen ihrer Attribute. \\

	\textbf{\texttt{sim\_products}} & Selektion aller ähnlichen Produkte mit Abstand $\leq 2$. Jedes Produkt soll einmalig in der Ergebnismenge sein. \\

	%\textbf{\texttt{foaf\_products}} & Selektion der Produkte, die von Freunden (anderen Geschlechts) bewertet wurden und die ähnlich zu den eigenen, bewerteten Produkten sind. \\

	\textbf{\texttt{foaf\_reviews}*} & Selektion der Produkte, für die Freunde oder deren Freunde ein Review geschrieben haben gruppiert nach Produktname und sortiert nach durchschnittlicher Bewertung. \\

	\textbf{\texttt{path\_all}*} & Berechnen aller Pfade der Länge $\leq 4$ zwischen einem Nutzer und einem Produkt unter Verwendung der Beziehungstypen \texttt{FRIEND\_OF}, \texttt{REVIEWED\_BY} und \texttt{SIMILAR\_TO}.. \\

	\textbf{\texttt{path\_shortest}*} & Berechnung des kürzesten Pfades zwischen zwei Nutzern unter Verwendung der Beziehungstypen \texttt{FRIEND\_OF}, \texttt{REVIEWED\_BY} und \texttt{SIMILAR\_TO}. Die maximale Pfadlänge beträgt $5$. \\

	\textbf{\texttt{top\_regions}*} & Berechnen der Anzahl Bücher mit Salesrank $\leq 1000$ gruppiert nach Region.\\

	\textbf{\texttt{triangle\_pattern}*} & Finden aller Dreicksbeziehungen folgender Art: Ein Produkt \texttt{p} besitzt eine Bewertung \texttt{r} die für $\geq 10$ Personen hilfreich war. Der bewertende Nutzer \texttt{u1} ist mit einem weiteren Nutzer \texttt{u2} befreundet, der älter als $20$ Jahre alt ist und ebenfalls das Produkt p bewertet hat. Es sollen \texttt{p}, \texttt{u1}, \texttt{u2} und \texttt{r} bestimmt werden. \\

	%\textbf{\texttt{friendly\_regions}} & Berechnen der Top 10 Regionen mit den meisten Freundschaftsbeziehungen. \\
	\hline
  	\end{tabular} 
	\end{footnotesize}
	\setlength{\belowcaptionskip}{0.25cm}	
	\caption[Benchmark: Beschreibung der einzelnen Anfragen]{Name und Beschreibung der durchzuführenden Anfragen.}
	\label{tab:benchmark_queries}
\end{table}
\renewcommand{\arraystretch}{1}

- lokale Anfragen
- grundlegende Anfragen wie das Auslesen von Knoten und Kanten wurden bereits in ... durchgeführt
- Ziel: Ausführung komplexer analytischer Anfragen
- ausschließlich lesende Anfragen

\subsection{Testsystem}

\subsection{Systemkonfiguration}

- Indexstrukturen
- Typen / Klassen / Label

\paragraph*{Neo4j}

- embedded
- Gremlin + Cypher

\paragraph*{Titan}
- embedded
- Gremlin
- mit und ohne Typen

\subsection{Methodik}

siehe \cite{Dominguez-Sal2011}

- Aufwärmphase ja / nein
- Ausführungsreihenfolge
- Messen

\section{Durchführung}






